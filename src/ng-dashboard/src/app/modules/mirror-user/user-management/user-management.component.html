<h1>Mirror User</h1>

<div *ngIf="mirrorUser==null; else userDisplay">
    <p>Loading users...</p>
</div>

<ng-template #userDisplay>
    <mat-toolbar>
        <mat-toolbar-row>
            <button mat-raised-button (click)="loadData()">
                <mat-icon>refresh</mat-icon>
                <span>Refresh</span>
            </button>
            <span class="example-spacer"></span>
            <button mat-raised-button (click)="showAddUserDialog()">
                <mat-icon>add</mat-icon>
                <span>Add User</span>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>

    <div class="2xl:container w-full h-5/6 px-1">
        <ag-grid-angular
                class="ag-theme-balham-dark h-full w-full"
                [columnDefs]="columnDefs"
                [defaultColDef]="defaultColDef"
                [rowData]="rowData$ | async"
                [rowSelection]="'multiple'"
                [animateRows]="true"
                (cellClicked)="onCellClicked($event)"
                (gridReady)="onGridReady($event)">
        </ag-grid-angular>
    </div>

    <!--  <mat-grid-list cols="{{desired_columns}}" rowHeight="70px">-->
    <!--    <mat-grid-tile *ngFor="let user of mirrorUser?.result">-->
    <!--      <div style="width: 100%; height: 100%;">-->
    <!--        <div>-->
    <!--          <mat-icon class="delete-icon" (click)="deleteUser(user.userId)">close</mat-icon>-->
    <!--        </div>-->
    <!--        <div>-->
    <!--          {{user.userId}}-->
    <!--        </div>-->
    <!--        <div>-->
    <!--          {{user.expireAt}}-->
    <!--        </div>-->
    <!--      </div>-->
    <!--    </mat-grid-tile>-->
    <!--  </mat-grid-list>-->
</ng-template>